var u=Object.defineProperty;var c=(i,e,r)=>e in i?u(i,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[e]=r;var n=(i,e,r)=>(c(i,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();class a{constructor(){n(this,"sideSizeFieldValue",()=>{let e=this.sideLength.value;this.sideSizeField.innerHTML=`${e} x ${e}`});n(this,"createCells",()=>{cells.innerHTML="";let e=this.currentSize,r=e*e;this.container.style.gridTemplateColumns=`repeat(${e}, 1fr)`,this.container.style.gridTemplateRows=`repeat(${e}, 1fr)`;for(let s=1;s<=r;s++){let t=document.createElement("div");t.addEventListener("mouseenter",this.dyeColor),t.addEventListener("mousedown",this.dyeColor),cells.append(t)}});n(this,"dyeColor",e=>{e.type==="mouseenter"&&!this.flagMouseDown||(this.currentMode=="color"?e.target.style.backgroundColor=this.currentColor:this.currentMode=="eraser"&&(e.target.style.backgroundColor="#fff"))});this.cursorBrush=document.getElementById("cursorBrush"),this.cursorEraser=document.getElementById("cursorEraser"),this.defaultMode="color",this.defaultColor="#000",this.defaultSize="64",this.currentMode=this.defaultMode,this.currentColor=this.defaultColor,this.currentSize=this.defaultSize,this.container=document.getElementById("cells"),this.inputHexColor=document.getElementById("inputHexColor"),this.sideLength=document.getElementById("sideLength"),this.sideSizeField=document.getElementById("sideSizeField"),this.buttonCreateCell=document.getElementById("buttonCreateCell"),this.buttonModeEraser=document.getElementById("buttonModeEraser"),this.buttonModeColor=document.getElementById("buttonModeColor"),this.flagMouseDown=!1}init(){window.addEventListener("mousemove",this.moveCursor),this.container.addEventListener("mousedown",()=>{this.flagMouseDown=!0}),document.body.addEventListener("mouseup",()=>{this.flagMouseDown=!1}),this.inputHexColor.addEventListener("change",()=>{this.currentColor=this.inputHexColor.value}),this.inputHexColor.addEventListener("change",this.dyeColor),this.sideLength.addEventListener("mousemove",this.sideSizeFieldValue),this.sideLength.addEventListener("change",()=>{this.currentSize=this.sideLength.value}),this.sideLength.addEventListener("change",this.createCells),this.buttonModeEraser.addEventListener("click",()=>{this.currentMode="eraser"}),this.buttonModeColor.addEventListener("click",()=>{this.currentMode="color"}),this.sideSizeFieldValue()}}const l=new a;l.init();l.createCells();
